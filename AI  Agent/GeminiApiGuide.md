# Докладний посібник з отримання ключа Google Gemini API

Цей посібник містить детальні інструкції для отримання і налаштування ключа Google Gemini API у AI Unity Agent.

## Покроковий процес отримання API ключа

### Крок 1: Створення облікового запису Google (якщо немає)

1. Відвідайте [accounts.google.com](https://accounts.google.com)
2. Натисніть "Створити обліковий запис"
3. Слідуйте інструкціям для створення нового облікового запису Google

### Крок 2: Отримання API ключа

1. Перейдіть на [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Увійдіть у свій обліковий запис Google
3. Натисніть кнопку "Create API Key" (Створити API ключ)
4. Скопіюйте згенерований ключ, він виглядатиме приблизно так:
   ```
   AIzaSyB5KSWTiG3X6ZbTr8J1mpXUUBcXOLj8V9s
   ```
   *Примітка: це приклад, не використовуйте цей ключ*

### Крок 3: Встановлення ключа в AI Unity Agent

1. Відкрийте вікно налаштувань AI Unity Agent у Unity Editor:
   - Через меню "Window" > "AI Assistant" > "Settings"
   - Або натиснувши кнопку "⚙️ Налаштування" в інтерфейсі агента
2. У розділі "Google Gemini" знайдіть поле "Gemini API Key"
3. Вставте скопійований API ключ у це поле
   - Ключ буде автоматично відформатовано, якщо він містить зайві пробіли або лапки
4. Увімкніть опцію "Використовувати Google Gemini API" (відмітьте галочкою)
5. Натисніть "Застосувати" або "Зберегти зміни"
6. Натисніть кнопку "Перевірити ключ" для підтвердження працездатності

### Крок 4: Вирішення проблем з API ключем

Якщо у вас виникли труднощі із налаштуванням або використанням ключа API:

1. Натисніть кнопку "Усунення проблем" у розділі Gemini API
2. У вікні "API Troubleshooter" вставте ваш ключ та натисніть "Перевірити ключ Gemini"
3. Інструмент автоматично:
   - Виправить поширені проблеми з форматуванням ключа
   - Перевірить валідність ключа API
   - Покаже доступні моделі для вашого ключа, якщо він валідний
4. Дотримуйтесь рекомендацій, які надасть інструмент для вирішення проблеми

### Крок 5: Вирішення типових проблем з ключем

#### Недійсний ключ
- **Проблема**: Повідомлення "API key not valid" або "API_KEY_INVALID"
- **Рішення**: 
  - Переконайтеся, що ви скопіювали весь ключ повністю
  - Перевірте відсутність пробілів на початку або в кінці ключа
  - Закрийте та відкрийте налаштування, щоб автокорекція ключа спрацювала
  - Створіть новий ключ і спробуйте ще раз
  - Скористайтесь інструментом "Усунення проблем" для автоматичної перевірки

#### Проблеми з мережею
- **Проблема**: Помилки підключення або таймаути
- **Рішення**:
  - Перевірте підключення до інтернету
  - Переконайтеся, що файрвол не блокує запити до `generativelanguage.googleapis.com`
  - Спробуйте використати VPN, якщо у вашому регіоні є обмеження доступу

#### Вичерпання ліміту запитів
- **Проблема**: Повідомлення про квоту або ліміт ("quota exceeded", "rate limit exceeded")
- **Рішення**:
  - Зачекайте деякий час (ліміт запитів - 60 запитів/хвилину)
  - Створіть новий безкоштовний ключ API
  - Вимкніть спам-запитів та автоматичні запити, якщо такі є
  - Спробуйте використати Ollama як альтернативу

#### Модель недоступна
- **Проблема**: Повідомлення "model not found" або подібні
- **Рішення**:
  - Перевірте список доступних моделей для вашого ключа
  - Використовуйте модель gemini-pro або gemini-1.5-pro замість інших
  - Оновіть список моделей у налаштуваннях (кнопка "Оновити список моделей")

## Альтернативні способи використання API ключа

### Збереження як змінна середовища

#### Для Windows:
1. Відкрийте "Система" > "Додаткові параметри системи" > "Змінні середовища"
2. Натисніть "Нова" і додайте змінну `GEMINI_API_KEY` з вашим ключем
3. Перезапустіть Unity Editor

#### Для Linux/Mac:
1. Додайте наступний рядок у файл `~/.bashrc` або `~/.zshrc`:
   ```bash
   export GEMINI_API_KEY="ваш_ключ_api"
   ```
2. Виконайте `source ~/.bashrc` або перезапустіть термінал
3. Перезапустіть Unity Editor

### Збереження у файлі конфігурації

1. Створіть один з наступних файлів:
   - `~/.gemini_key`
   - `~/.config/google/gemini_key`
2. Вставте лише ваш API ключ у файл (без додаткового тексту або форматування)
3. Перезапустіть Unity Editor

## Формати ключів API

Ключі Google Gemini API зазвичай мають такі формати:
- Старий формат: `AIzaSyB5KSWTiG3X6ZbTr8J1mpXUUBcXOLj8V9s` (починається з `AIza`)
- Новий формат: `g-XxXxXxXxXxXxXxXx` (починається з `g-`)

Якщо ваш ключ не відповідає цим форматам, можливо, ви помилково копіюєте неправильну інформацію.

## Безкоштовні ліміти та обмеження

Безкоштовні ключі Google Gemini мають такі обмеження:
- До 60 запитів на хвилину
- Обмежена кількість токенів на місяць
- Деякі моделі можуть бути недоступні

Більш детальну інформацію можна знайти на [офіційному сайті Google AI](https://ai.google.dev/docs/quotas).
